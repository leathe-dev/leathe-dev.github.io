<!-- Font Awesome for redirect icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<div id="github-repos"></div>
<script 
  src="https://leathe-dev.github.io/repo/github-repo.js" 
  data-username="kch"
  data-container="github-repos">
</script>

<!--you can link your own stylesheet or put all the stuff in a <style> tag, whichever you like i dont care-->

<!-- Styles -->
<style>
.repo-box {
  position: relative;
  border: 2px solid #2b2b2b;
  border-radius: 4px;
  padding: 12px;
  margin: 10px;
  width: 300px;
  background-color: #202020;
  font-family: monospace;
  transition: all 0.2s;
}

.repo-box:hover {
  box-shadow: 0 0 4px #535353;
  border: solid 1px #535353;
  transform: scale(1.02);
}

.repo-box a {
  color: #ddd;
  text-decoration: none;
  font-weight: bold;
}

.repo-box a:hover {
  color: #f3f3f3;
  text-decoration: none;
  font-weight: bold;
}

.redirect {
  position: absolute;
  top: 10px;
  right: 12px;
  color: white;
}

.repo-desc {
  margin-top: 6px;
  font-size: 14px;
  color: #ccc;
}

.repo-header {
  display: flex;
  align-items: center;
  gap: 10px;
}

.repo-header img {
  width: 20px;
  height: 20px;
  object-fit: cover;
  border-radius: 4px;
  flex-shrink: 0;
}
</style>

<!-- Script -->
<script>
(function () {
  const username = "USERNAME HERE";
  const containerId = "github-repos";
  const container = document.getElementById(containerId);
  if (!container || !username) return;

  fetch(`https://api.github.com/users/${username}`)
    .then(res => res.json())
    .then(user => {
      const avatarUrl = user.avatar_url + "&s=40";

      fetch(`https://api.github.com/users/${username}/repos`)
        .then(res => res.json())
        .then(repos => {
          repos.forEach(repo => {
            const box = document.createElement("div");
            box.className = "repo-box";
            box.innerHTML = `
              <a class="redirect" href="${repo.html_url}" target="_blank" title="View on GitHub"><i class="fas fa-external-link-alt"></i></a>
              <div class="repo-header">
                <img src="${avatarUrl}" alt="${username} avatar">
                <a href="${repo.html_url}" target="_blank">${username} / ${repo.name}</a>
              </div>
              <p class="repo-desc">${repo.description || "No description"}</p>
            `;
            container.appendChild(box);
          });
        });
    });
})();
</script>
